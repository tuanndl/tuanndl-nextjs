{"version":3,"file":"static/webpack/static/development/pages/post/[id].js.b5a5e5b4708fe4cd32f7.hot-update.js","sources":["webpack:///./pages/post/.js"],"sourcesContent":["import React from 'react'\nimport fetch from 'isomorphic-unfetch';\nimport _get from 'lodash/get';\nimport Layout from '../../components/layout';\nimport Content from '../../components/Article/Content';\nimport Comments from '../../components/Article/Comments';\nimport { CommonHelper } from '../../utils';\n\nimport './article.scss';\n\nconst Post = ({ dataPost: { title, content, createdAt, _id, category}, dataComment }) => {\n  return(\n    <Layout>\n      <h1 className='container__main--title'>\n        <span>\n          # {title}\n        </span>\n      </h1>\n\n      <div className='Article__item'>\n        <span className='Article__item--time'>{CommonHelper.dateString(createdAt)}</span>\n        <span className='Article__item--tag'>{category && category.name}</span>\n      </div>\n\n      <Content content={content} />\n\n      <Comments\n        idArticle={_id}\n        comment={dataComment}\n        dataAuth={props.dataAuth}\n        isLoadingAuth={props.isLoadingAuth}\n        createCommentRequest={props.createCommentRequest}\n        loginByFacebookRequest={props.loginByFacebookRequest}\n      />\n\n    </Layout>\n  );\n};\n\nPost.getInitialProps = async function(ctx) {\n  const callApi = [\n    fetch('https://gateway.tuanndl.com/api/v1/article/' + ctx.query.id),\n    fetch('https://gateway.tuanndl.com/api/v1/comment/' + ctx.query.id)\n  ];\n\n  let responses = await Promise.all(callApi);\n  const dataPost = await responses[0].json();\n  const dataComment = await responses[1].json();\n\n  return {\n    dataPost: _get(dataPost, 'result',''),\n    dataComment: _get(dataComment, 'result,data',[]),\n  }\n};\n\nexport default Post;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAMA;AANA;AAAA;AACA;AADA;AAOA;AAPA;AAAA;AACA;AADA;AAQA;AARA;AAWA;AACA;AAFA;AACA;AAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAeA;;;;A","sourceRoot":""}