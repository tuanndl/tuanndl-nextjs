{"ast":null,"code":"export default class CommonHelper {\n  static clearLocalStorage() {\n    const {\n      lang,\n      idEduCategory\n    } = localStorage;\n    localStorage.clear();\n    sessionStorage.clear();\n    this.setAuthorizationToken(false);\n\n    if (lang) {\n      localStorage.setItem('lang', lang);\n    }\n\n    if (idEduCategory) {\n      localStorage.setItem('idEduCategory', idEduCategory);\n    }\n  }\n\n  static handleError(data) {\n    if (data.errors) {\n      const err = data.errors[0].code;\n\n      if (err === 'INVALID_TOKEN' || err === 'AUTHENTICATION_FAILED' || err === 'invalid signature' || err === 'TOKEN_EXPIRED') {\n        this.clearLocalStorage();\n        window.location.replace('/');\n      } else if (err === 'BLOCKED_USER') {\n        alert(`${data.errors[0].message}`);\n        this.clearLocalStorage();\n        window.location.replace('/');\n      } else {\n        return alert(data.errors[0].message);\n      }\n    }\n\n    return null;\n  }\n\n  static setAuthorizationToken(token) {\n    if (token) {\n      axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n    } else {\n      delete axios.defaults.headers.common.Authorization;\n    }\n  }\n\n  static change_alias(alias) {\n    let str = alias;\n    str = str.toLowerCase();\n    str = str.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g, \"a\");\n    str = str.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g, \"e\");\n    str = str.replace(/ì|í|ị|ỉ|ĩ/g, \"i\");\n    str = str.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g, \"o\");\n    str = str.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g, \"u\");\n    str = str.replace(/ỳ|ý|ỵ|ỷ|ỹ/g, \"y\");\n    str = str.replace(/đ/g, \"d\");\n    str = str.replace(/!|@|%|\\^|\\*|\\(|\\)|\\+|\\=|\\<|\\>|\\?|\\/|,|\\.|\\:|\\;|\\'|\\\"|\\&|\\#|\\[|\\]|~|\\$|_|`|-|{|}|\\||\\\\/g, \" \");\n    str = str.replace(/ + /g, \" \");\n    str = str.trim();\n    return str;\n  }\n\n  static dateString(date, showTime) {\n    date = new Date(date);\n    const year = date.getUTCFullYear();\n    let month = date.getMonth();\n    let day = date.getDate();\n    month = this.helperDateString(month + 1);\n    day = this.helperDateString(day);\n    let dateString = `${day}-${month}-${year}`;\n\n    if (showTime) {\n      let hours = date.getHours();\n      let min = date.getMinutes();\n      dateString = `${hours}:${min} ` + dateString;\n    }\n\n    return dateString;\n  }\n\n  static helperDateString(number) {\n    if (number < 10) {\n      number = '0' + number.toString();\n    }\n\n    return number.toString();\n  }\n\n  static cutContent(content) {\n    const DEFAULT_LENGTH_CONTENT = 100;\n    let result = content;\n\n    if (content && content.length > DEFAULT_LENGTH_CONTENT) {\n      const indexCut = content.indexOf(' ', DEFAULT_LENGTH_CONTENT);\n\n      if (indexCut === -1) {\n        return result;\n      }\n\n      result = content.substring(0, indexCut);\n    }\n\n    return result;\n  }\n\n}\n;","map":{"version":3,"sources":["/Users/macbook/Git/tuanndl-nextjs/utils/CommonHelper.js"],"names":["CommonHelper","clearLocalStorage","lang","idEduCategory","localStorage","clear","sessionStorage","setAuthorizationToken","setItem","handleError","data","errors","err","code","window","location","replace","alert","message","token","axios","defaults","headers","common","Authorization","change_alias","alias","str","toLowerCase","trim","dateString","date","showTime","Date","year","getUTCFullYear","month","getMonth","day","getDate","helperDateString","hours","getHours","min","getMinutes","number","toString","cutContent","content","DEFAULT_LENGTH_CONTENT","result","length","indexCut","indexOf","substring"],"mappings":"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","sourcesContent":["\nexport default class CommonHelper {\n\n  static clearLocalStorage() {\n    const {lang, idEduCategory} = localStorage;\n    localStorage.clear();\n    sessionStorage.clear();\n    this.setAuthorizationToken(false);\n    if (lang) {\n      localStorage.setItem('lang', lang);\n    }\n    if (idEduCategory) {\n      localStorage.setItem('idEduCategory', idEduCategory);\n    }\n  };\n\n  static handleError(data) {\n    if (data.errors) {\n      const err = data.errors[0].code;\n      if (err === 'INVALID_TOKEN' || err === 'AUTHENTICATION_FAILED' || err === 'invalid signature' || err === 'TOKEN_EXPIRED') {\n        this.clearLocalStorage();\n        window.location.replace('/');\n      } else if (err === 'BLOCKED_USER') {\n        alert(`${data.errors[0].message}`);\n        this.clearLocalStorage();\n        window.location.replace('/');\n      } else {\n        return (\n          alert(data.errors[0].message)\n        );\n      }\n    }\n    return null;\n  };\n\n  static setAuthorizationToken(token) {\n    if (token) {\n      axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n    } else {\n      delete axios.defaults.headers.common.Authorization;\n    }\n  }\n\n  static change_alias(alias) {\n    let str = alias;\n    str = str.toLowerCase();\n    str = str.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g,\"a\");\n    str = str.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g,\"e\");\n    str = str.replace(/ì|í|ị|ỉ|ĩ/g,\"i\");\n    str = str.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g,\"o\");\n    str = str.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g,\"u\");\n    str = str.replace(/ỳ|ý|ỵ|ỷ|ỹ/g,\"y\");\n    str = str.replace(/đ/g,\"d\");\n    str = str.replace(/!|@|%|\\^|\\*|\\(|\\)|\\+|\\=|\\<|\\>|\\?|\\/|,|\\.|\\:|\\;|\\'|\\\"|\\&|\\#|\\[|\\]|~|\\$|_|`|-|{|}|\\||\\\\/g,\" \");\n    str = str.replace(/ + /g,\" \");\n    str = str.trim();\n    return str;\n  }\n\n  static dateString(date, showTime) {\n    date = new Date(date);\n    const year = date.getUTCFullYear();\n    let month = date.getMonth();\n    let day = date.getDate();\n\n    month = this.helperDateString(month + 1);\n    day = this.helperDateString(day);\n\n    let dateString = `${day}-${month}-${year}`;\n    if (showTime) {\n      let hours = date.getHours();\n      let min = date.getMinutes();\n      dateString = `${hours}:${min} ` + dateString;\n    }\n    return dateString;\n  }\n\n  static helperDateString(number) {\n    if (number < 10) {\n      number = '0' + number.toString();\n    }\n    return number.toString();\n  }\n\n  static cutContent(content) {\n    const DEFAULT_LENGTH_CONTENT = 100;\n    let result = content;\n    if (content && content.length > DEFAULT_LENGTH_CONTENT) {\n      const indexCut = content.indexOf(' ', DEFAULT_LENGTH_CONTENT);\n      if (indexCut === -1) {\n        return result;\n      }\n      result = content.substring(0, indexCut);\n    }\n    return result;\n  };\n\n};\n"]},"metadata":{},"sourceType":"module"}