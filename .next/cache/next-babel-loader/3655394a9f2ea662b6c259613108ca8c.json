{"ast":null,"code":"import _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport fetch from 'isomorphic-unfetch';\nimport _get from 'lodash/get';\nimport Layout from '../../components/layout';\nimport Content from '../../components/Article/Content';\nimport Comments from '../../components/Article/Comments';\nimport { CommonHelper } from '../../utils';\nimport './article.scss';\n\nconst Post = ({\n  dataPost: {\n    title,\n    content,\n    createdAt,\n    _id,\n    category\n  },\n  dataComment\n}) => {\n  return __jsx(Layout, null, __jsx(\"h1\", {\n    className: \"container__main--title\"\n  }, __jsx(\"span\", null, \"# \", title)), __jsx(\"div\", {\n    className: \"Article__item\"\n  }, __jsx(\"span\", {\n    className: \"Article__item--time\"\n  }, CommonHelper.dateString(createdAt)), __jsx(\"span\", {\n    className: \"Article__item--tag\"\n  }, category && category.name)), __jsx(Content, {\n    content: content\n  }), __jsx(Comments, {\n    idArticle: _id,\n    comment: dataComment,\n    dataAuth: {},\n    isLoadingAuth: true,\n    createCommentRequest: null,\n    loginByFacebookRequest: null\n  }));\n};\n\nPost.getInitialProps = async function (ctx) {\n  const callApi = [fetch('https://gateway.tuanndl.com/api/v1/article/' + ctx.query.id), fetch('https://gateway.tuanndl.com/api/v1/comment/' + ctx.query.id)];\n  let responses = await _Promise.all(callApi);\n  const dataPost = await responses[0].json();\n  const dataComment = await responses[1].json();\n  return {\n    dataPost: _get(dataPost, 'result', ''),\n    dataComment: _get(dataComment, 'result,data', [])\n  };\n};\n\nexport default Post;","map":null,"metadata":{},"sourceType":"module"}