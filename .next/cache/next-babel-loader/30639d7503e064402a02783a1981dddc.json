{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\n\nvar CommonHelper =\n/*#__PURE__*/\nfunction () {\n  function CommonHelper() {\n    _classCallCheck(this, CommonHelper);\n  }\n\n  _createClass(CommonHelper, null, [{\n    key: \"clearLocalStorage\",\n    value: function clearLocalStorage() {\n      var _localStorage = localStorage,\n          lang = _localStorage.lang,\n          idEduCategory = _localStorage.idEduCategory;\n      localStorage.clear();\n      sessionStorage.clear();\n      this.setAuthorizationToken(false);\n\n      if (lang) {\n        localStorage.setItem('lang', lang);\n      }\n\n      if (idEduCategory) {\n        localStorage.setItem('idEduCategory', idEduCategory);\n      }\n    }\n  }, {\n    key: \"handleError\",\n    value: function handleError(data) {\n      if (data.errors) {\n        var err = data.errors[0].code;\n\n        if (err === 'INVALID_TOKEN' || err === 'AUTHENTICATION_FAILED' || err === 'invalid signature' || err === 'TOKEN_EXPIRED') {\n          this.clearLocalStorage();\n          window.location.replace('/');\n        } else if (err === 'BLOCKED_USER') {\n          alert(\"\".concat(data.errors[0].message));\n          this.clearLocalStorage();\n          window.location.replace('/');\n        } else {\n          return alert(data.errors[0].message);\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: \"setAuthorizationToken\",\n    value: function setAuthorizationToken(token) {\n      if (token) {\n        axios.defaults.headers.common.Authorization = \"Bearer \".concat(token);\n      } else {\n        delete axios.defaults.headers.common.Authorization;\n      }\n    }\n  }, {\n    key: \"change_alias\",\n    value: function change_alias(alias) {\n      var str = alias;\n      str = str.toLowerCase();\n      str = str.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g, \"a\");\n      str = str.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g, \"e\");\n      str = str.replace(/ì|í|ị|ỉ|ĩ/g, \"i\");\n      str = str.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g, \"o\");\n      str = str.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g, \"u\");\n      str = str.replace(/ỳ|ý|ỵ|ỷ|ỹ/g, \"y\");\n      str = str.replace(/đ/g, \"d\");\n      str = str.replace(/!|@|%|\\^|\\*|\\(|\\)|\\+|\\=|\\<|\\>|\\?|\\/|,|\\.|\\:|\\;|\\'|\\\"|\\&|\\#|\\[|\\]|~|\\$|_|`|-|{|}|\\||\\\\/g, \" \");\n      str = str.replace(/ + /g, \" \");\n      str = str.trim();\n      return str;\n    }\n  }, {\n    key: \"dateString\",\n    value: function dateString(date, showTime) {\n      date = new Date(date);\n      var year = date.getUTCFullYear();\n      var month = date.getMonth();\n      var day = date.getDate();\n      month = this.helperDateString(month + 1);\n      day = this.helperDateString(day);\n      var dateString = \"\".concat(day, \"-\").concat(month, \"-\").concat(year);\n\n      if (showTime) {\n        var hours = date.getHours();\n        var min = date.getMinutes();\n        dateString = \"\".concat(hours, \":\").concat(min, \" \") + dateString;\n      }\n\n      return dateString;\n    }\n  }, {\n    key: \"helperDateString\",\n    value: function helperDateString(number) {\n      if (number < 10) {\n        number = '0' + number.toString();\n      }\n\n      return number.toString();\n    }\n  }, {\n    key: \"cutContent\",\n    value: function cutContent(content) {\n      var DEFAULT_LENGTH_CONTENT = 100;\n      var result = content;\n\n      if (content && content.length > DEFAULT_LENGTH_CONTENT) {\n        var indexCut = content.indexOf(' ', DEFAULT_LENGTH_CONTENT);\n\n        if (indexCut === -1) {\n          return result;\n        }\n\n        result = content.substring(0, indexCut);\n      }\n\n      return result;\n    }\n  }]);\n\n  return CommonHelper;\n}();\n\nexport { CommonHelper as default };\n;","map":{"version":3,"sources":["/Users/macbook/Git/tuanndl-nextjs/utils/CommonHelper.js"],"names":["CommonHelper","localStorage","lang","idEduCategory","clear","sessionStorage","setAuthorizationToken","setItem","data","errors","err","code","clearLocalStorage","window","location","replace","alert","message","token","axios","defaults","headers","common","Authorization","alias","str","toLowerCase","trim","date","showTime","Date","year","getUTCFullYear","month","getMonth","day","getDate","helperDateString","dateString","hours","getHours","min","getMinutes","number","toString","content","DEFAULT_LENGTH_CONTENT","result","length","indexCut","indexOf","substring"],"mappings":"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","sourcesContent":["\nexport default class CommonHelper {\n\n  static clearLocalStorage() {\n    const {lang, idEduCategory} = localStorage;\n    localStorage.clear();\n    sessionStorage.clear();\n    this.setAuthorizationToken(false);\n    if (lang) {\n      localStorage.setItem('lang', lang);\n    }\n    if (idEduCategory) {\n      localStorage.setItem('idEduCategory', idEduCategory);\n    }\n  };\n\n  static handleError(data) {\n    if (data.errors) {\n      const err = data.errors[0].code;\n      if (err === 'INVALID_TOKEN' || err === 'AUTHENTICATION_FAILED' || err === 'invalid signature' || err === 'TOKEN_EXPIRED') {\n        this.clearLocalStorage();\n        window.location.replace('/');\n      } else if (err === 'BLOCKED_USER') {\n        alert(`${data.errors[0].message}`);\n        this.clearLocalStorage();\n        window.location.replace('/');\n      } else {\n        return (\n          alert(data.errors[0].message)\n        );\n      }\n    }\n    return null;\n  };\n\n  static setAuthorizationToken(token) {\n    if (token) {\n      axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n    } else {\n      delete axios.defaults.headers.common.Authorization;\n    }\n  }\n\n  static change_alias(alias) {\n    let str = alias;\n    str = str.toLowerCase();\n    str = str.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g,\"a\");\n    str = str.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g,\"e\");\n    str = str.replace(/ì|í|ị|ỉ|ĩ/g,\"i\");\n    str = str.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g,\"o\");\n    str = str.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g,\"u\");\n    str = str.replace(/ỳ|ý|ỵ|ỷ|ỹ/g,\"y\");\n    str = str.replace(/đ/g,\"d\");\n    str = str.replace(/!|@|%|\\^|\\*|\\(|\\)|\\+|\\=|\\<|\\>|\\?|\\/|,|\\.|\\:|\\;|\\'|\\\"|\\&|\\#|\\[|\\]|~|\\$|_|`|-|{|}|\\||\\\\/g,\" \");\n    str = str.replace(/ + /g,\" \");\n    str = str.trim();\n    return str;\n  }\n\n  static dateString(date, showTime) {\n    date = new Date(date);\n    const year = date.getUTCFullYear();\n    let month = date.getMonth();\n    let day = date.getDate();\n\n    month = this.helperDateString(month + 1);\n    day = this.helperDateString(day);\n\n    let dateString = `${day}-${month}-${year}`;\n    if (showTime) {\n      let hours = date.getHours();\n      let min = date.getMinutes();\n      dateString = `${hours}:${min} ` + dateString;\n    }\n    return dateString;\n  }\n\n  static helperDateString(number) {\n    if (number < 10) {\n      number = '0' + number.toString();\n    }\n    return number.toString();\n  }\n\n  static cutContent(content) {\n    const DEFAULT_LENGTH_CONTENT = 100;\n    let result = content;\n    if (content && content.length > DEFAULT_LENGTH_CONTENT) {\n      const indexCut = content.indexOf(' ', DEFAULT_LENGTH_CONTENT);\n      if (indexCut === -1) {\n        return result;\n      }\n      result = content.substring(0, indexCut);\n    }\n    return result;\n  };\n\n};\n"]},"metadata":{},"sourceType":"module"}